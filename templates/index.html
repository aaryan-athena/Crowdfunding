<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>India Crowdfunding Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#6366f1',
                        secondary: '#14b8a6',
                        accent: '#8b5cf6',
                        success: '#10b981',
                        warning: '#f59e0b'
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-in-out',
                        'slide-up': 'slideUp 0.6s ease-out',
                        'pulse-slow': 'pulse 3s infinite'
                    }
                }
            }
        }
    </script>
    <style>
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #14b8a6 100%);
        }
        .glass-effect {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.95);
        }
    </style>
</head>

<body class="gradient-bg min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <div class="max-w-6xl mx-auto">
            <!-- Header -->
            <div class="text-center mb-10 animate-fade-in">
                <div class="inline-flex items-center justify-center w-20 h-20 bg-white rounded-full shadow-lg mb-6">
                    <i class="fas fa-chart-line text-4xl text-primary"></i>
                </div>
                <h1 class="text-4xl md:text-5xl font-bold text-white mb-4 drop-shadow-lg">
                    India Crowdfunding Calculator
                </h1>
                <p class="text-lg text-white/90 max-w-2xl mx-auto leading-relaxed">
                    Get realistic predictions for your crowdfunding campaign in India.
                    Based on actual data from Ketto, Milaap, ImpactGuru & more.
                </p>
                <div class="flex flex-wrap justify-center items-center mt-6 gap-4 text-white/80">
                    <div class="flex items-center bg-white/20 px-4 py-2 rounded-full backdrop-blur-sm">
                        <i class="fas fa-calculator mr-2"></i>
                        <span>Realistic Formula</span>
                    </div>
                    <div class="flex items-center bg-white/20 px-4 py-2 rounded-full backdrop-blur-sm">
                        <i class="fas fa-rupee-sign mr-2"></i>
                        <span>INR Support</span>
                    </div>
                    <div class="flex items-center bg-white/20 px-4 py-2 rounded-full backdrop-blur-sm">
                        <i class="fas fa-chart-line mr-2"></i>
                        <span>Smart Tips</span>
                    </div>
                </div>
            </div>

            <!-- Form -->
            <div class="glass-effect rounded-2xl shadow-2xl p-6 md:p-8 animate-slide-up border border-white/30">
                <div class="mb-8">
                    <h2 class="text-2xl font-bold text-gray-800 mb-2 flex items-center">
                        <i class="fas fa-rocket mr-3 text-primary"></i>
                        Campaign Details
                    </h2>
                    <p class="text-gray-600">Fill in your campaign information for an accurate prediction</p>
                </div>

                <form id="predictionForm" class="space-y-8">
                    <!-- Basic Info Section -->
                    <div class="bg-indigo-50 rounded-xl p-6 border border-indigo-200">
                        <h3 class="text-lg font-semibold text-gray-700 mb-4 flex items-center">
                            <i class="fas fa-info-circle mr-2 text-primary"></i>
                            Basic Information
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <!-- Goal Amount -->
                            <div class="group">
                                <label for="goalAmount" class="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                                    <i class="fas fa-rupee-sign mr-2 text-success"></i>
                                    Goal Amount
                                </label>
                                <input type="number" id="goalAmount" name="goalAmount" required
                                    class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200"
                                    placeholder="e.g., 500000">
                            </div>

                            <!-- Currency -->
                            <div class="group">
                                <label for="currency" class="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                                    <i class="fas fa-coins mr-2 text-yellow-500"></i>
                                    Currency
                                </label>
                                <select id="currency" name="currency" required
                                    class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200 bg-white">
                                    <option value="INR" selected>‚Çπ INR (Indian Rupee)</option>
                                    <option value="USD">$ USD</option>
                                    <option value="EUR">‚Ç¨ EUR</option>
                                    <option value="GBP">¬£ GBP</option>
                                    <option value="CAD">C$ CAD</option>
                                </select>
                            </div>

                            <!-- Category -->
                            <div class="group">
                                <label for="category" class="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                                    <i class="fas fa-tags mr-2 text-purple-500"></i>
                                    Category
                                </label>
                                <select id="category" name="category" required
                                    class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200 bg-white">
                                    <option value="">Select Category</option>
                                    <option value="Medical">üè• Medical / Healthcare</option>
                                    <option value="Education">üìö Education</option>
                                    <option value="Technology">üíª Technology / Startup</option>
                                    <option value="Creative">üé¨ Creative (Film/Music/Art)</option>
                                    <option value="Social Cause">ü§ù Social Cause / NGO</option>
                                    <option value="Sports">‚öΩ Sports</option>
                                    <option value="Environment">üå± Environment</option>
                                    <option value="Business">üíº Small Business</option>
                                    <option value="Personal">üë§ Personal Need</option>
                                    <option value="Other">üì¶ Other</option>
                                </select>
                            </div>

                            <!-- Platform -->
                            <div class="group">
                                <label for="platform" class="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                                    <i class="fas fa-globe mr-2 text-blue-500"></i>
                                    Platform
                                </label>
                                <select id="platform" name="platform" required
                                    class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200 bg-white">
                                    <option value="">Select Platform</option>
                                    <option value="Ketto">Ketto</option>
                                    <option value="Milaap">Milaap</option>
                                    <option value="ImpactGuru">ImpactGuru</option>
                                    <option value="Wishberry">Wishberry</option>
                                    <option value="GoFundMe">GoFundMe</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>

                            <!-- Duration Days -->
                            <div class="group">
                                <label for="durationDays" class="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                                    <i class="fas fa-calendar-alt mr-2 text-accent"></i>
                                    Campaign Duration (Days)
                                </label>
                                <input type="number" id="durationDays" name="durationDays" required
                                    class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200"
                                    placeholder="e.g., 30" min="1" max="90">
                            </div>

                            <!-- City Tier -->
                            <div class="group">
                                <label for="cityTier" class="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                                    <i class="fas fa-city mr-2 text-gray-500"></i>
                                    City Tier (India)
                                </label>
                                <select id="cityTier" name="cityTier" required
                                    class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200 bg-white">
                                    <option value="">Select City Tier</option>
                                    <option value="Tier 1">Tier 1 (Mumbai, Delhi, Bangalore, etc.)</option>
                                    <option value="Tier 2">Tier 2 (Pune, Jaipur, Ahmedabad, etc.)</option>
                                    <option value="Tier 3">Tier 3 (Smaller cities)</option>
                                    <option value="Rural">Rural Areas</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Audience & Reach Section -->
                    <div class="bg-teal-50 rounded-xl p-6 border border-teal-200">
                        <h3 class="text-lg font-semibold text-gray-700 mb-4 flex items-center">
                            <i class="fas fa-users mr-2 text-secondary"></i>
                            Audience & Reach
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <!-- Expected Backers -->
                            <div class="group">
                                <label for="numBackers" class="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                                    <i class="fas fa-user-friends mr-2 text-primary"></i>
                                    Expected Backers
                                </label>
                                <input type="number" id="numBackers" name="numBackers" required
                                    class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200"
                                    placeholder="e.g., 100" min="0">
                                <p class="text-xs text-gray-500 mt-1">Friends, family & network who will donate</p>
                            </div>

                            <!-- Social Media Followers -->
                            <div class="group">
                                <label for="socialFollowers" class="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                                    <i class="fas fa-hashtag mr-2 text-pink-500"></i>
                                    Social Media Followers
                                </label>
                                <input type="number" id="socialFollowers" name="socialFollowers" required
                                    class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200"
                                    placeholder="e.g., 5000" min="0">
                                <p class="text-xs text-gray-500 mt-1">Total across all platforms (FB, Insta, WhatsApp)</p>
                            </div>

                            <!-- Email Subscribers -->
                            <div class="group">
                                <label for="emailSubscribers" class="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                                    <i class="fas fa-envelope mr-2 text-red-500"></i>
                                    Email/Contact List
                                </label>
                                <input type="number" id="emailSubscribers" name="emailSubscribers" required
                                    class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200"
                                    placeholder="e.g., 200" min="0">
                                <p class="text-xs text-gray-500 mt-1">Email list or WhatsApp contacts</p>
                            </div>
                        </div>
                    </div>

                    <!-- Campaign Quality Section -->
                    <div class="bg-purple-50 rounded-xl p-6 border border-purple-200">
                        <h3 class="text-lg font-semibold text-gray-700 mb-4 flex items-center">
                            <i class="fas fa-star mr-2 text-accent"></i>
                            Campaign Quality
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <!-- Planned Updates -->
                            <div class="group">
                                <label for="numUpdates" class="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                                    <i class="fas fa-bullhorn mr-2 text-orange-500"></i>
                                    Planned Updates
                                </label>
                                <input type="number" id="numUpdates" name="numUpdates" required
                                    class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200"
                                    placeholder="e.g., 10" min="0">
                                <p class="text-xs text-gray-500 mt-1">How many updates will you post?</p>
                            </div>

                            <!-- Video Included -->
                            <div class="group">
                                <label for="hasVideo" class="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                                    <i class="fas fa-video mr-2 text-red-500"></i>
                                    Campaign Video
                                </label>
                                <select id="hasVideo" name="hasVideo" required
                                    class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200 bg-white">
                                    <option value="">Select Option</option>
                                    <option value="Yes">‚úÖ Yes, I have a video</option>
                                    <option value="No">‚ùå No video</option>
                                </select>
                            </div>

                            <!-- Images Included -->
                            <div class="group">
                                <label for="hasImages" class="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                                    <i class="fas fa-images mr-2 text-green-500"></i>
                                    Quality Images
                                </label>
                                <select id="hasImages" name="hasImages" required
                                    class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200 bg-white">
                                    <option value="">Select Option</option>
                                    <option value="Yes">‚úÖ Yes, I have images</option>
                                    <option value="No">‚ùå No images</option>
                                </select>
                            </div>

                            <!-- Cause Urgency -->
                            <div class="group">
                                <label for="causeUrgency" class="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                                    <i class="fas fa-exclamation-triangle mr-2 text-yellow-500"></i>
                                    Cause Urgency
                                </label>
                                <select id="causeUrgency" name="causeUrgency" required
                                    class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200 bg-white">
                                    <option value="">Select Urgency Level</option>
                                    <option value="Critical">üö® Critical (Life-threatening)</option>
                                    <option value="High">‚ö†Ô∏è High (Urgent need)</option>
                                    <option value="Medium">üìã Medium (Standard)</option>
                                    <option value="Low">üìÖ Low (No urgency)</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Credibility Section -->
                    <div class="bg-pink-50 rounded-xl p-6 border border-pink-200">
                        <h3 class="text-lg font-semibold text-gray-700 mb-4 flex items-center">
                            <i class="fas fa-shield-alt mr-2 text-pink-500"></i>
                            Your Credibility
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <!-- Owner Experience -->
                            <div class="group">
                                <label for="ownerExperience" class="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                                    <i class="fas fa-briefcase mr-2 text-warning"></i>
                                    Years of Experience
                                </label>
                                <input type="number" id="ownerExperience" name="ownerExperience" required
                                    class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200"
                                    placeholder="e.g., 3" min="0">
                                <p class="text-xs text-gray-500 mt-1">Experience in relevant field</p>
                            </div>

                            <!-- Previous Campaigns -->
                            <div class="group">
                                <label for="previousCampaigns" class="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                                    <i class="fas fa-history mr-2 text-blue-500"></i>
                                    Previous Successful Campaigns
                                </label>
                                <input type="number" id="previousCampaigns" name="previousCampaigns" required
                                    class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition-all duration-200"
                                    placeholder="e.g., 0" min="0">
                                <p class="text-xs text-gray-500 mt-1">Number of past campaigns you've run</p>
                            </div>
                        </div>
                    </div>

                    <!-- Submit Button -->
                    <div class="text-center pt-4">
                        <button type="submit" id="predictBtn"
                            class="bg-gradient-to-r from-primary to-secondary hover:from-secondary hover:to-primary text-white font-bold py-4 px-12 rounded-2xl transition-all duration-300 transform hover:scale-105 hover:shadow-2xl focus:outline-none focus:ring-4 focus:ring-primary/50 flex items-center justify-center mx-auto group">
                            <i class="fas fa-calculator mr-3 group-hover:animate-pulse"></i>
                            Calculate Prediction
                            <i class="fas fa-arrow-right ml-3 group-hover:translate-x-1 transition-transform"></i>
                        </button>
                    </div>
                </form>

                <!-- Loading Spinner -->
                <div id="loading" class="hidden text-center py-12 animate-fade-in">
                    <div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-primary to-secondary rounded-full animate-pulse-slow mb-4">
                        <i class="fas fa-spinner text-white text-2xl animate-spin"></i>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-700 mb-2">Calculating Your Prediction</h3>
                    <p class="text-gray-600">Analyzing campaign factors for realistic estimate...</p>
                    <div class="flex justify-center mt-4">
                        <div class="flex space-x-1">
                            <div class="w-2 h-2 bg-primary rounded-full animate-bounce"></div>
                            <div class="w-2 h-2 bg-secondary rounded-full animate-bounce" style="animation-delay: 0.1s"></div>
                            <div class="w-2 h-2 bg-accent rounded-full animate-bounce" style="animation-delay: 0.2s"></div>
                        </div>
                    </div>
                </div>

                <!-- Enhanced Result -->
                <div id="result" class="hidden mt-8 animate-slide-up">
                    <div class="bg-gradient-to-r from-success/10 to-emerald-50 border-2 border-success/20 rounded-2xl p-6 md:p-8 shadow-xl">
                        <div class="text-center mb-6">
                            <div class="inline-flex items-center justify-center w-16 h-16 bg-success rounded-full mb-4">
                                <i class="fas fa-check text-white text-2xl"></i>
                            </div>
                            <h3 class="text-2xl font-bold text-success mb-2">Prediction Complete!</h3>
                        </div>

                        <!-- Main Prediction -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                            <div class="bg-white rounded-xl p-6 text-center shadow-md">
                                <p class="text-sm text-gray-600 mb-2">Estimated Amount You Can Raise</p>
                                <p class="text-4xl font-bold text-success" id="predictionAmount"></p>
                                <p class="text-xs text-gray-500 mt-2" id="predictionINR"></p>
                            </div>
                            <div class="bg-white rounded-xl p-6 text-center shadow-md">
                                <p class="text-sm text-gray-600 mb-2">After Platform Fees (Net Amount)</p>
                                <p class="text-4xl font-bold text-primary" id="netAmount"></p>
                                <p class="text-xs text-gray-500 mt-2" id="feeInfo"></p>
                            </div>
                        </div>

                        <!-- Success Metrics -->
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
                            <div class="bg-white/70 rounded-xl p-4 text-center">
                                <div class="text-3xl mb-2">üìä</div>
                                <h4 class="font-semibold text-gray-700 text-sm">Success Chance</h4>
                                <p class="text-xl font-bold text-primary" id="successProbability"></p>
                            </div>
                            <div class="bg-white/70 rounded-xl p-4 text-center">
                                <div class="text-3xl mb-2">üë•</div>
                                <h4 class="font-semibold text-gray-700 text-sm">Est. Backers</h4>
                                <p class="text-xl font-bold text-primary" id="estimatedBackers"></p>
                            </div>
                            <div class="bg-white/70 rounded-xl p-4 text-center">
                                <div class="text-3xl mb-2">üéØ</div>
                                <h4 class="font-semibold text-gray-700 text-sm">Goal Amount</h4>
                                <p class="text-xl font-bold text-primary" id="goalDisplay"></p>
                            </div>
                            <div class="bg-white/70 rounded-xl p-4 text-center">
                                <div class="text-3xl mb-2">üìà</div>
                                <h4 class="font-semibold text-gray-700 text-sm">Goal %</h4>
                                <p class="text-xl font-bold" id="goalPercent"></p>
                            </div>
                        </div>

                        <!-- Multipliers Breakdown -->
                        <div class="bg-white/50 rounded-xl p-6 mb-6">
                            <h4 class="text-lg font-semibold text-gray-700 mb-4 flex items-center">
                                <i class="fas fa-sliders-h mr-2 text-accent"></i>
                                How Your Campaign Scores
                            </h4>
                            <div class="grid grid-cols-2 md:grid-cols-5 gap-3" id="multipliersGrid">
                                <!-- Multipliers will be inserted here -->
                            </div>
                        </div>

                        <!-- Recommendations -->
                        <div class="bg-white/50 rounded-xl p-6">
                            <h4 class="text-lg font-semibold text-gray-700 mb-4 flex items-center">
                                <i class="fas fa-lightbulb mr-2 text-warning"></i>
                                Recommendations for Your Campaign
                            </h4>
                            <div id="recommendations" class="space-y-3">
                                <!-- Recommendations will be inserted here -->
                            </div>
                        </div>

                        <!-- Platform Info -->
                        <div class="mt-6 text-center">
                            <div class="inline-flex items-center bg-white/70 rounded-full px-6 py-3">
                                <i class="fas fa-info-circle mr-2 text-primary"></i>
                                <span class="text-sm text-gray-600">Based on Indian crowdfunding patterns from </span>
                                <span class="font-bold text-primary ml-1" id="platformDisplay"></span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Error -->
                <div id="error" class="hidden mt-8 animate-slide-up">
                    <div class="bg-red-50 border-2 border-red-200 rounded-2xl p-6 shadow-xl">
                        <div class="flex items-center mb-4">
                            <div class="flex-shrink-0">
                                <i class="fas fa-exclamation-triangle text-red-500 text-2xl"></i>
                            </div>
                            <div class="ml-4">
                                <h3 class="text-lg font-semibold text-red-800">Calculation Error</h3>
                                <p class="text-red-700" id="errorMessage"></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <div class="text-center mt-8 text-white/70 text-sm">
                <p>üí° This calculator provides estimates based on typical Indian crowdfunding patterns.</p>
                <p>Actual results may vary based on campaign execution and market conditions.</p>
            </div>
        </div>
    </div>

    <script>
        // Currency symbols mapping
        const currencySymbols = {
            'INR': '‚Çπ',
            'USD': '$',
            'EUR': '‚Ç¨',
            'GBP': '¬£',
            'CAD': 'C$'
        };

        // Format number with commas (Indian numbering system for INR)
        function formatNumber(num, currency) {
            if (currency === 'INR') {
                // Indian numbering system (lakhs, crores)
                return num.toLocaleString('en-IN');
            }
            return num.toLocaleString('en-US');
        }

        // Get multiplier color based on value
        function getMultiplierColor(value) {
            if (value >= 1.0) return 'text-green-600 bg-green-100';
            if (value >= 0.85) return 'text-yellow-600 bg-yellow-100';
            return 'text-red-600 bg-red-100';
        }

        // Render multipliers grid
        function renderMultipliers(multipliers) {
            const grid = document.getElementById('multipliersGrid');
            const multiplierLabels = {
                'duration': '‚è±Ô∏è Duration',
                'social_media': 'üì± Social',
                'email_list': 'üìß Email',
                'updates': 'üì¢ Updates',
                'media_content': 'üé• Media',
                'experience': 'üíº Experience',
                'previous_campaigns': 'üèÜ Track Record',
                'city_tier': 'üèôÔ∏è City',
                'urgency': '‚ö° Urgency',
                'platform': 'üåê Platform'
            };

            grid.innerHTML = Object.entries(multipliers).map(([key, value]) => {
                const label = multiplierLabels[key] || key;
                const colorClass = getMultiplierColor(value);
                return `
                    <div class="rounded-lg p-3 text-center ${colorClass}">
                        <div class="text-xs font-medium">${label}</div>
                        <div class="text-lg font-bold">${value}x</div>
                    </div>
                `;
            }).join('');
        }

        // Render recommendations
        function renderRecommendations(recommendations) {
            const container = document.getElementById('recommendations');
            container.innerHTML = recommendations.map(rec => {
                let bgColor = 'bg-blue-50 border-blue-200';
                if (rec.type === 'success') bgColor = 'bg-green-50 border-green-200';
                if (rec.type === 'warning') bgColor = 'bg-yellow-50 border-yellow-200';
                if (rec.type === 'alert') bgColor = 'bg-red-50 border-red-200';
                
                return `
                    <div class="flex items-start p-3 rounded-lg ${bgColor} border">
                        <span class="text-2xl mr-3">${rec.icon}</span>
                        <span class="text-gray-700">${rec.message}</span>
                    </div>
                `;
            }).join('');
        }

        document.getElementById('predictionForm').addEventListener('submit', async function (e) {
            e.preventDefault();

            // Hide previous results
            document.getElementById('result').classList.add('hidden');
            document.getElementById('error').classList.add('hidden');
            document.getElementById('loading').classList.remove('hidden');

            // Get form data
            const formData = new FormData(this);
            const data = Object.fromEntries(formData.entries());

            try {
                const response = await fetch('/predict', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data)
                });

                const result = await response.json();

                document.getElementById('loading').classList.add('hidden');

                if (result.success) {
                    const currency = result.currency || 'INR';
                    const symbol = currencySymbols[currency] || '‚Çπ';

                    // Main prediction amount
                    document.getElementById('predictionAmount').textContent = 
                        `${symbol}${formatNumber(Math.round(result.prediction), currency)}`;
                    
                    // Show INR equivalent if not INR
                    if (currency !== 'INR') {
                        document.getElementById('predictionINR').textContent = 
                            `‚âà ‚Çπ${formatNumber(Math.round(result.prediction_inr), 'INR')} INR`;
                    } else {
                        document.getElementById('predictionINR').textContent = '';
                    }

                    // Net amount after fees
                    document.getElementById('netAmount').textContent = 
                        `${symbol}${formatNumber(Math.round(result.net_amount), currency)}`;
                    document.getElementById('feeInfo').textContent = 
                        `Platform fee: ${result.platform_fee_percent}%`;

                    // Success metrics
                    document.getElementById('successProbability').textContent = 
                        `${result.success_probability}%`;
                    document.getElementById('estimatedBackers').textContent = 
                        result.estimated_backers.toLocaleString();
                    document.getElementById('goalDisplay').textContent = 
                        `${symbol}${formatNumber(Math.round(result.goal_amount), currency)}`;
                    
                    // Goal percentage
                    const goalPercent = Math.round((result.prediction / result.goal_amount) * 100);
                    const goalPercentEl = document.getElementById('goalPercent');
                    goalPercentEl.textContent = `${goalPercent}%`;
                    if (goalPercent >= 100) {
                        goalPercentEl.className = 'text-xl font-bold text-green-600';
                    } else if (goalPercent >= 70) {
                        goalPercentEl.className = 'text-xl font-bold text-yellow-600';
                    } else {
                        goalPercentEl.className = 'text-xl font-bold text-red-600';
                    }

                    // Render multipliers
                    renderMultipliers(result.multipliers);

                    // Render recommendations
                    renderRecommendations(result.recommendations);

                    // Platform display
                    document.getElementById('platformDisplay').textContent = 
                        data.platform || 'Indian platforms';

                    document.getElementById('result').classList.remove('hidden');

                    // Smooth scroll to results
                    setTimeout(() => {
                        document.getElementById('result').scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }, 100);

                } else {
                    document.getElementById('errorMessage').textContent = result.error;
                    document.getElementById('error').classList.remove('hidden');
                }
            } catch (error) {
                document.getElementById('loading').classList.add('hidden');
                document.getElementById('errorMessage').textContent = 'An error occurred while calculating. Please try again.';
                document.getElementById('error').classList.remove('hidden');
            }
        });

        // Auto-select INR when page loads
        window.addEventListener('load', function () {
            document.body.classList.add('animate-fade-in');
        });
    </script>
</body>

</html>